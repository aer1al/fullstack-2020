{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","setSearch","value","onChange","event","target","PersonForm","addPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Persons","persons","handleClick","style","padding","list_style_type","map","person","display","name","number","onClick","filter","toLowerCase","includes","Notification","className","message","baseUrl","axios","get","then","response","data","newObject","post","id","delete","url","put","App","useState","setPersons","setMessage","notifClass","setNotification","useEffect","personService","initial","showNotif","setTimeout","preventDefault","newPerson","find","window","confirm","alert","returnedPerson","concat","catch","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1f95182.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ search, setSearch }) => {\n  return (\n    <>\n      filter shown with\n      <input\n        value={search}\n        onChange={(event) => {\n          setSearch(event.target.value);\n        }}\n      />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => {\n  return (\n    <>\n      <form onSubmit={addPerson}>\n        <div>\n          name:{\" \"}\n          <input\n            value={newName}\n            onChange={(event) => setNewName(event.target.value)}\n          />\n        </div>\n        <div>\n          number:{\" \"}\n          <input\n            value={newNumber}\n            onChange={(event) => setNewNumber(event.target.value)}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ search, persons, handleClick }) => {\n  return (\n    <>\n      <ul style={{ padding: \"0\", list_style_type: \"none\" }}>\n        {!search &&\n          persons.map((person) => (\n            <div key={person.name} style={{ display: \"flex\" }}>\n              <li key={person.name}>\n                {person.name} {person.number}\n              </li>\n              <button onClick={() => handleClick(person)}>delete</button>\n            </div>\n          ))}\n        {search &&\n          persons\n            .filter((person) =>\n              person.name.toLowerCase().includes(search.toLowerCase())\n            )\n            .map((person) => (\n              <li key={person.name}>\n                {person.name} {person.number}\n              </li>\n            ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ className, message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={className}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = `/api/persons/`;\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const url = `${baseUrl}${id}`;\n  const request = axios.put(url, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [notifClass, setNotification] = useState(\"message\");\n\n  useEffect(() => {\n    personService.getAll().then((initial) => setPersons(initial));\n  }, []);\n\n  const showNotif = (type, message) => {\n    setNotification(type);\n    setMessage(message);\n    setTimeout(() => {\n      setMessage(null);\n    }, 1800);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const person = persons.find((person) => person.name === newPerson.name);\n\n    if (person) {\n      person.number !== newPerson.number\n        ? window.confirm(\n            `${person.name} is already added to the phonebook, replace their old number with a new one?`\n          )\n          ? personService.update(person.id, newPerson).then(() => {\n              personService.getAll().then((initial) => setPersons(initial));\n              setNewName(\"\");\n              setNewNumber(\"\");\n              showNotif(\n                \"message\",\n                `Added new number (${person.name} : ${person.number})`\n              );\n            })\n          : alert(`${person.name}'s details were not updated`)\n        : alert(`${person.name} is already added to the phonebook`);\n    } else {\n      personService.create(newPerson).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        showNotif(\"message\", `Added ${newPerson.name}`);\n      });\n    }\n  };\n\n  const deletePerson = (person) => {\n    personService\n      .remove(person.id)\n      .then(() => {\n        setPersons(persons.filter((newPerson) => newPerson.id !== person.id));\n        showNotif(\"error\", `deleted ${person.name}`);\n      })\n      .catch(() => {\n        setMessage(`${person.name} was already removed from the phonebook`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        setPersons(persons.filter((p) => p.id !== person.id));\n        setNotification(\"error\");\n      });\n  };\n\n  return (\n    <div>\n      <Notification className={notifClass} message={message} />\n      <h2>Phonebook</h2>\n      <Filter search={search} setSearch={setSearch} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons search={search} persons={persons} handleClick={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}